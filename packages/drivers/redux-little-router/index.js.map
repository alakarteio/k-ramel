{"version":3,"file":"index.js","sources":["src/reduxLittleRouter.js"],"sourcesContent":["import { routerForBrowser, push, replace, go, goBack, goForward, block, unblock } from 'redux-little-router'\nimport { compose, applyMiddleware } from 'redux'\n\nconst getParentResultParam = (result, key) => {\n  if (!result) return undefined\n  if (result[key]) return result[key]\n  return getParentResultParam(result.parent, key)\n}\n\nconst isParentResultParam = (result, key, value) => {\n  if (!result) return false\n  if (result[key] === value) return true\n  return isParentResultParam(result.parent, key, value)\n}\n\nexport default (config, selector, implem) => {\n  const { reducer, middleware, enhancer } = implem ? implem(config) : routerForBrowser(config)\n\n  const driver = ({ dispatch, getState }) => {\n    const get = () => selector(getState())\n    const getResult = () => get().result\n    return ({\n      /* actions */\n      push: path => dispatch(push(path)),\n      replace: path => dispatch(replace(path)),\n      go: nbLocations => dispatch(go(nbLocations)),\n      goBack: () => dispatch(goBack()),\n      goForward: () => dispatch(goForward()),\n      block: callback => dispatch(block(callback)),\n      unblock: () => dispatch(unblock()),\n      /* route selectors */\n      get,\n      getRouteParam: key => get().params && get().params[key],\n      getQueryParam: key => get().query && get().query[key],\n      getResultParam: key => getResult() && getResult()[key],\n      getParentResultParam: key => getParentResultParam(getResult(), key),\n      isRoute: route => get().route === route,\n      isParentResultParam: (key, value) => isParentResultParam(getResult(), key, value),\n    })\n  }\n\n  driver.getReducer = () => reducer\n  driver.getEnhancer = () => compose(enhancer, applyMiddleware(middleware))\n\n  return driver\n}\n"],"names":["config","selector","implem","routerForBrowser","reducer","middleware","enhancer","driver","dispatch","getState","get","getResult","result","push","path","replace","go","nbLocations","goBack","goForward","block","callback","unblock","params","key","query","getParentResultParam","parent","route","value","isParentResultParam","getReducer","getEnhancer","compose","applyMiddleware"],"mappings":"oVAegBA,EAAQC,EAAUC,SACUA,EAASA,EAAOF,GAAUG,mBAAiBH,GAA7EI,IAAAA,QAASC,IAAAA,WAAYC,IAAAA,SAEvBC,EAAS,gBAAGC,IAAAA,SAAUC,IAAAA,SACpBC,EAAM,kBAAMT,EAASQ,MACrBE,EAAY,kBAAMD,IAAME,oBAGtB,mBAAQJ,EAASK,OAAKC,aACnB,mBAAQN,EAASO,UAAQD,QAC9B,mBAAeN,EAASQ,KAAGC,YACvB,kBAAMT,EAASU,uBACZ,kBAAMV,EAASW,sBACnB,mBAAYX,EAASY,QAAMC,aACzB,kBAAMb,EAASc,kCAGT,mBAAOZ,IAAMa,QAAUb,IAAMa,OAAOC,kBACpC,mBAAOd,IAAMe,OAASf,IAAMe,MAAMD,mBACjC,mBAAOb,KAAeA,IAAYa,yBAC5B,mBAhCC,SAAvBE,EAAwBd,EAAQY,MAC/BZ,SACDA,EAAOY,GAAaZ,EAAOY,GACxBE,EAAqBd,EAAOe,OAAQH,GA6BVE,CAAqBf,IAAaa,YACtD,mBAASd,IAAMkB,QAAUA,uBACb,SAACJ,EAAKK,UA5BL,SAAtBC,EAAuBlB,EAAQY,EAAKK,WACnCjB,IACDA,EAAOY,KAASK,GACbC,EAAoBlB,EAAOe,OAAQH,EAAKK,IAyBNC,CAAoBnB,IAAaa,EAAKK,eAIxEE,WAAa,kBAAM3B,KACnB4B,YAAc,kBAAMC,UAAQ3B,EAAU4B,kBAAgB7B,KAEtDE"}