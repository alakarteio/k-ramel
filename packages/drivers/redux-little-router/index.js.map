{"version":3,"file":"index.js","sources":["src/reduxLittleRouter.js"],"sourcesContent":["import { routerForBrowser, push, replace, go, goBack, goForward, block, unblock } from 'redux-little-router'\nimport { compose, applyMiddleware } from 'redux'\n\nconst getParentResultParam = (result, key) => {\n  if (!result) return undefined\n  if (result[key]) return result[key]\n  return getParentResultParam(result.parent, key)\n}\n\nconst isParentResultParam = (result, key, value) => {\n  if (!result) return false\n  if (result[key] === value) return true\n  return isParentResultParam(result.parent, key, value)\n}\n\nexport default (config, selector) => {\n  const { reducer, middleware, enhancer } = routerForBrowser(config)\n\n  const driver = ({ dispatch, getState }) => {\n    const get = () => selector(getState())\n    return ({\n      /* actions */\n      push: path => dispatch(push(path)),\n      replace: path => dispatch(replace(path)),\n      go: nbLocations => dispatch(go(nbLocations)),\n      goBack: () => dispatch(goBack()),\n      goForward: () => dispatch(goForward()),\n      block: callback => dispatch(block(callback)),\n      unblock: () => dispatch(unblock()),\n      /* route selectors */\n      get,\n      getRouteParam: key => get().params && get().params[key],\n      getQueryParam: key => get().query && get().query[key],\n      getResultParam: key => get().result && get().result[key],\n      getParentResultParam: key => getParentResultParam(get().result, key),\n      isRoute: route => get().route === route,\n      isParentResultParam: (key, value) => isParentResultParam(get().result, key, value),\n    })\n  }\n\n  driver.getReducer = () => reducer\n  driver.getEnhancer = () => compose(enhancer, applyMiddleware(middleware))\n\n  return driver\n}\n"],"names":["config","selector","routerForBrowser","reducer","middleware","enhancer","driver","dispatch","getState","get","push","path","replace","go","nbLocations","goBack","goForward","block","callback","unblock","params","key","query","result","getParentResultParam","parent","route","value","isParentResultParam","getReducer","getEnhancer","compose","applyMiddleware"],"mappings":"oVAegBA,EAAQC,SACoBC,mBAAiBF,GAAnDG,IAAAA,QAASC,IAAAA,WAAYC,IAAAA,SAEvBC,EAAS,gBAAGC,IAAAA,SAAUC,IAAAA,SACpBC,EAAM,kBAAMR,EAASO,kBAGnB,mBAAQD,EAASG,OAAKC,aACnB,mBAAQJ,EAASK,UAAQD,QAC9B,mBAAeJ,EAASM,KAAGC,YACvB,kBAAMP,EAASQ,uBACZ,kBAAMR,EAASS,sBACnB,mBAAYT,EAASU,QAAMC,aACzB,kBAAMX,EAASY,kCAGT,mBAAOV,IAAMW,QAAUX,IAAMW,OAAOC,kBACpC,mBAAOZ,IAAMa,OAASb,IAAMa,MAAMD,mBACjC,mBAAOZ,IAAMc,QAAUd,IAAMc,OAAOF,yBAC9B,mBA/BC,SAAvBG,EAAwBD,EAAQF,MAC/BE,SACDA,EAAOF,GAAaE,EAAOF,GACxBG,EAAqBD,EAAOE,OAAQJ,GA4BVG,CAAqBf,IAAMc,OAAQF,YACvD,mBAASZ,IAAMiB,QAAUA,uBACb,SAACL,EAAKM,UA3BL,SAAtBC,EAAuBL,EAAQF,EAAKM,WACnCJ,IACDA,EAAOF,KAASM,GACbC,EAAoBL,EAAOE,OAAQJ,EAAKM,IAwBNC,CAAoBnB,IAAMc,OAAQF,EAAKM,eAIzEE,WAAa,kBAAM1B,KACnB2B,YAAc,kBAAMC,UAAQ1B,EAAU2B,kBAAgB5B,KAEtDE"}