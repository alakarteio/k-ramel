!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("redux-little-router"),require("redux")):"function"==typeof define&&define.amd?define(["redux-little-router","redux"],e):r["@k-ramel/driver-redux-little-router"]=e(r["redux-little-router"],r.Redux)}(this,function(r,e){"use strict";var t=function(r,e){if(r)return r[e]?r[e]:t(r.parent,e)},n=function(r,e,t){return!!r&&(r[e]===t||n(r.parent,e,t))};return function(u){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(r){return r.router},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"router",c=function(r){var e=r.reducer,t=r.middleware,n=r.enhancer;return e&&n&&t}(u)?u:r.routerForBrowser({routes:u}),a=c.reducer,f=c.middleware,d=c.enhancer;return{getDriver:function(e){return function(u){var o=u.dispatch,i=u.getState,c=function(){return e(i())},a=function(){return c().result};return{push:function(e){return o(r.push(e))},replace:function(e){return o(r.replace(e))},go:function(e){return o(r.go(e))},goBack:function(){return o(r.goBack())},goForward:function(){return o(r.goForward())},block:function(e){return o(r.block(e))},unblock:function(){return o(r.unblock())},get:c,getRouteParam:function(r){return c().params&&c().params[r]},getQueryParam:function(r){return c().query&&c().query[r]},getResultParam:function(r){return a()&&a()[r]},getParentResultParam:function(r){return t(a(),r)},isRoute:function(r){return c().route===r},isParentResultParam:function(r,e){return n(a(),r,e)}}}}(o),getReducer:function(){return{reducer:a,path:i}},getEnhancer:function(){return e.compose(d,e.applyMiddleware(f))},init:function(e){return function(t){var n=t.getState,u=t.dispatch,o=e(n());o&&u(r.initializeCurrentLocation(o))}}(o)}}});
